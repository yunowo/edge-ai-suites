#!/bin/sh
# postinst script for eci-grub customization
#
# see: dh_installdeb(1)

set -e

case "$1" in
    configure)
	[ -d /opt/ros/jazzy/share/pyrealsense2-ai-demo/models ] && rm -rf /opt/ros/jazzy/share/pyrealsense2-ai-demo/models
	if [ -d /opt/ros/jazzy/share/pyrealsense2-ai-demo/venv ]  && [ -f /opt/ros/jazzy/share/pyrealsense2-ai-demo/scripts/generate_ai_models.sh ]; then
		# shellcheck disable=SC1091
	    . /opt/ros/jazzy/share/pyrealsense2-ai-demo/venv/bin/activate
            cd /opt/ros/jazzy/share/pyrealsense2-ai-demo && ./scripts/generate_ai_models.sh
	    deactivate
	fi
	;;

    abort-upgrade|abort-remove|abort-deconfigure)
	;;

    *)
	echo "postinst called with unknown argument \`$1'" >&2
	exit 1
	;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0
